var amp=videojs,ampURL="http://amp.azure.net/libs/amp/";amp.Player.prototype.enterFullscreen=amp.Player.prototype.requestFullScreen;amp.Player.prototype.addEventListener=amp.Player.prototype.on;amp.Player.prototype.removeEventListener=amp.Player.prototype.off;amp.Player.prototype.currentTechName=function(){return this.techName};amp.Player.prototype.playerElement=function(){return this.el_};amp.Player.prototype.currentAbsoluteTime=function(){return this.techGet("currentAbsoluteTime")};amp.Player.prototype.currentVideoStreamList=function(){return this.techGet("currentVideoStreamList")};amp.Player.prototype.currentAudioStreamList=function(){return this.techGet("currentAudioStreamList")};amp.Player.prototype.videoBufferData=function(){return this.techGet("videoBufferData")};amp.Player.prototype.audioBufferData=function(){return this.techGet("audioBufferData")};amp.Player.prototype.currentDownloadBitrate=function(){return this.techGet("currentDownloadBitrate")};amp.Player.prototype.currentPlaybackBitrate=function(){return this.techGet("currentPlaybackBitrate")};amp.Player.prototype.videoWidth=function(){return this.techGet("videoWidth")};amp.Player.prototype.videoHeight=function(){return this.techGet("videoHeight")};amp.Player.prototype.currentProtectionInfo=function(){return this.options_.playbackOptions.protectionInfo};amp.Player.prototype.isLive=function(){return this.techGet("isLive")};amp.Player.prototype.manifestPlayableWindowLength=function(){return this.techGet("manifestPlayableWindowLength")};amp.Player.prototype.currentPlayableWindow=function(){return this.techGet("currentPlayableWindow")};amp.Player.prototype.segmentBoundaries=function(){return this.techGet("segmentBoundaries")};amp.Player.prototype.toPresentationTime=function(n){if(this.player().isLive()){var t=this.player().currentPlayableWindow();if(t&&t.length==2)return n+t[0]}return n};amp.Player.prototype.fromPresentationTime=function(n){if(this.player().isLive()){var t=this.player().currentPlayableWindow();if(t&&t.length==2)return n-t[0]}return n};amp.Player.prototype.currentHeuristicProfile=function(n){return n===undefined?amp.Heuristics.findProfile(this.player().options_.heuristicProfile).name:(this.options_.heuristicProfile=n,this)};amp.Player.prototype.currentPlayerSettingValue=function(n){var i,t;this.updateCurrentPlayerConfigs();i={};for(t in this.player().options_.currentPlayerConfigs.currentHeuristicConfigs)hasOwnProp.call(amp.Player._availableSettings.heuristicSettings,t)&&(i[t]=this.player().options_.currentPlayerConfigs.currentHeuristicConfigs[t]);return i[n]};amp.Player.getScriptRootURL=function(){var n=document.getElementsByTagName("script"),t=null,i,r,e,u,f;if(n&&n.length>=1)for(i=n.length-1;i>=0;i--)if(r=null,r=n[i].src,e=new RegExp("(.[^?]+)/azuremediaplayer(?:\\.min)?\\.js(?:\\?.*)?$","i"),r&&(u=r.match(e),u&&u.length===2)){t=u[1];break}return f=amp.Player.prototype.getAmpVersion(),!t&&f&&(t=ampURL+f),t};amp.Player.prototype.getAmpVersion=function(){var t=null,i,n;return ampVersion&&(i=new RegExp("([0-9]+.[0-9]+.[0-9]+).[0-9]+"),n=ampVersion.match(i),n&&n.length===2&&(t=n[1])),t};amp.Player.prototype.src=function(n,t){this.one("loadstart",function(){this.techName&&this.techName!=="Html5"||this.removeClass("vjs-loading")});if(this.showPlayerLoad(),t!==undefined&&t.length>0&&(this.options_.tracks=t),n===undefined)throw new Error("Get on src is not supported, please use currentSrc to get the current source.");if(amp.obj.isArray(n))this.sourceList_(UrlRewriter.expandSources(n));else if(n instanceof Object)n.selected?(this.clearPlaybackOptions(),this.refreshTextTracks(),this.cache_.src=n.src,this.currentType_=n.type||"",this.ready(function(){n.protectionInfo&&(this.options_.playbackOptions.protectionInfo=n.protectionInfo);this.techCall("src",n.src);this.options_.preload=="auto"&&this.load()})):this.sourceList_(UrlRewriter.expandSources([n]));else throw new Error("src is expecting a Source object or array of source Objects");return this};amp.Player.prototype.sourceList_=function(n){var t=this.selectSource(n);t?this.tech&&t.tech===this.techName?t.tech==="FlashSS"&&(JSON.stringify(this.options_.playbackOptions.protectionInfo)!==JSON.stringify(t.source.protectionInfo)||this.tech.isReloadNeeded())?(this.clearPlaybackOptions(),this.refreshTextTracks(),this.loadTech(t.tech,t.source)):(t.source.selected=!0,this.src(t.source)):(this.clearPlaybackOptions(),this.refreshTextTracks(),this.loadTech(t.tech,t.source)):(this.tech&&this.unloadTech(),amp.Player.raiseError.call(this,"amp",amp.Player.getAMPErrorCode.call(this,n)),this.triggerReady())};amp.options.playbackOptions={};amp.Player.prototype.clearPlaybackOptions=function(){this.options_.playbackOptions={}};amp.Player.prototype.getMemoryLog=function(n){return AMP.Logger.getMemoryLog(n)};amp.Player.prototype.updateCurrentPlayerConfigs=function(){var i,n,t,u,r;if(this.player().options_.currentPlayerConfigs||(this.player().options_.currentPlayerConfigs={}),i=amp.Heuristics.findProfile(this.player().options_.heuristicProfile),this.player().options_.heuristicProfile===undefined&&(this.player().options_.heuristicProfile=i.name),n=i?amp.obj.copy(i):{},t=this.player().options_.customPlayerSettings,t&&t.customHeuristicSettings){u={};for(r in t.customHeuristicSettings)hasOwnProp.call(amp.Player._availableSettings.heuristicSettings,r)&&(u[r]=t.customHeuristicSettings[r]);n=amp.obj.merge(n,u)}n.maxBufferInSec<n.preRollInSec&&(n.maxBufferInSec=n.preRollInSec);n.livePlaybackOffsetInSec<n.preRollInSec&&(n.livePlaybackOffsetInSec=n.preRollInSec);this.player().options_.currentPlayerConfigs.currentHeuristicConfigs=n};amp.Player._availableSettings={heuristicSettings:{preRollInSec:0,maxBufferInSec:0,livePlaybackOffsetInSec:0,windowSizeHeuristics:!1}};amp.protectionType={PlayReady:"PlayReady",Widevine:"Widevine",AES:"AES"};amp.StreamingFormatMimeType={Smooth:"application/vnd.ms-sstr+xml",Dash:"application/dash+xml",HLS:"application/vnd.apple.mpegurl"};amp.eventName={canplaythrough:"canplaythrough",durationchange:"durationchange",ended:"ended",error:"error",fullscreenchange:"fullscreenchange",loadstart:"loadstart",loadedmetadata:"loadedmetadata",loadeddata:"loadeddata",pause:"pause",play:"play",playing:"playing",seeked:"seeked",seeking:"seeking",timeupdate:"timeupdate",volumechange:"volumechange",waiting:"waiting",downloadbitratechanged:"downloadbitratechanged",playbackbitratechanged:"playbackbitratechanged"};amp.streamEventName={trackselected:"trackselected"};amp.streamListEventName={streamselected:"streamselected",streamindexinvalid:"streamindexinvalid",streamselectnotsupported:"streamselectnotsupported"};amp.errorCode={abortedErrStart:1048576,abortedErrUnknown:1048576,abortedErrNotImplemented:1048577,abortedErrEnd:2097151,networkErrStart:2097152,networkErrUnknown:2097152,networkErrHttpResponseBegin:2097552,networkErrHttpBadUrlFormat:2097552,networkErrHttpUserAuthRequired:2097553,networkErrHttpUserForbidden:2097555,networkErrHttpUrlNotFound:2097556,networkErrHttpNotAllowed:2097557,networkErrHttpPreconditionFailed:2097564,networkErrHttpInternalServerFailure:2097652,networkErrHttpBadGateway:2097654,networkErrHttpServiceUnavailable:2097655,networkErrHttpGatewayTimeout:2097656,networkErrHttpResponseEnd:2097751,networkErrTimeout:2097752,networkErrEnd:3145727,decodeErrStart:3145728,decodeErrUnknown:3145728,decodeErrEnd:4194303,srcErrStart:4194304,srcErrUnknown:4194304,srcErrParsePresentation:4194305,srcErrParseSegment:4194306,srcErrUnsupportedPresentation:4194307,srcErrInvalidSegment:4194308,srcErrEnd:5242879,encryptErrStart:5242880,encryptErrUnknown:5242880,encryptErrDecrypterNotFound:5242881,encryptErrDecrypterInit:5242882,encryptErrDecrypterNotSupported:5242883,encryptErrKeyAcquire:5242884,encryptErrDecryption:5242885,encryptErrLicenseAcquire:5242886,encryptErrEnd:6291455,srcPlayerMismatchStart:6291456,srcPlayerMismatchUnknown:6291456,srcPlayerMismatchFlashNotInstalled:6291457,srcPlayerMismatchSilverlightNotInstalled:6291458,srcPlayerMismatchEnd:7340031,errUnknown:267386880};amp.bufferDataEventName={downloadrequested:"downloadrequested",downloadcompleted:"downloadcompleted",downloadfailed:"downloadfailed"};amp.Player.canSupportFormats=function(n,t){var r=t[n.type],i;if(r){if(!n.protectionInfo)return"maybe";for(i=0;i<n.protectionInfo.length;i++)if(r.indexOf(n.protectionInfo[i].type)!==-1)return"maybe"}return""};amp.Player.prototype.refreshTextTracks=function(){var t,n;if(this.tech){if(this.remoteTextTracks()&&this.remoteTextTracks().tracks_)while(this.remoteTextTracks().tracks_.length>0)this.removeRemoteTextTrack(this.remoteTextTracks().tracks_[0]);for(t=this.options_.tracks||[],n=0;n<t.length;n++)track=t[n],this.player_.addRemoteTextTrack(track);this.options_.tracks.length=0}};amp.Player.raiseError=function(n,t,i){var u=amp.Player.getErrorTechId(n)<<28,r;t&=~4026531840;t|=u;r=new amp.MediaError(t);r.message=i;this.error(r)};amp.Player.getErrorTechId=function(n){switch(n.toLowerCase()){case"amp":return 1;case"azurehtml5js":return 2;case"flashss":return 3;case"silverlightss":return 4;case"html5":return 5;default:return 0}};amp.Player.getErrorUI=function(n){var t=(n.code&267386880)>>20;return 0===t?n.message:6===t?this.options().notSupportedMessage:255===t?"MEDIA_ERR_UNKNOWN":vjs.MediaError.errorTypes[t]||""};amp.ErrorDisplay.prototype.update=function(){var n=this.player().error(),t;n&&(t=amp.Player.getErrorUI.call(this.player(),n),this.contentEl_.innerHTML=this.localize(t)+"<br>(0x"+n.code.toString(16)+")")};amp.Player.getAMPErrorCode=function(n){for(var t,i,r,e,s,u=amp.errorCode.srcPlayerMismatchUnknown,f=0,o=this.options_.techOrder;f<o.length;f++)if((t=vjs.capitalize(o[f]),i=window.videojs[t],i)&&!i.isSupported())for(r=0,e=n;r<e.length;r++)s=e[r],i.canPlaySource(s)&&(t=="SilverlightSS"?u|=amp.errorCode.srcPlayerMismatchSilverlightNotInstalled:t=="FlashSS"&&(u|=amp.errorCode.srcPlayerMismatchFlashNotInstalled));return u};_logType=AMP.Logger.videoJSLogOverride;
//# sourceMappingURL=amp.min.js.map
